<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh" xml:lang="zh">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="learn-vi.css" />
	<title>VIM学习笔记 目录结构 (Directory Structure)</title>
</head>
<body>
	
	<p>使用<code class="inset">:version</code>命令，可以查看Vim查找配置文件的位置和顺序：</p>
	<p>Windows下的查找路径：</p>
	<p><img src="https://yyq123.github.io/learn-vim/images/version_Win_Dir.png" alt="version" width="486" height="273" /></p>
	<p>Linux下的查找路径：</p>
	<p><img src="https://yyq123.github.io/learn-vim/images/version_Linux_Dir.png" alt="version" /></p>
	<p>从虚拟的变量对应物理的目录结构，左侧为安装Vim的目录，而右侧为用户目录：</p>
	<p><img src="https://yyq123.github.io/learn-vim/images/Win_vim_dir_structure.png" alt="Directiry Structure" width="500" height="433" /></p>
	
	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">VIM 安装目录</p>
	<p>使用以下命令，可以查看$VIM所代表的Vim安装目录：</p>
	<p style="text-indent:2em"><code class="inset">:echo $VIM</code></p>
	<p>对于Linux操作系统，Vim通常被安装在以下目录：</p>
	<p style="text-indent:2em"><kbd>/usr/share/vim</kbd></p>
	<p>对于Windows操作系统，Vim将被安装在以下目录：</p>
	<p style="text-indent:2em"><kbd>C:\Program Files\vim</kbd></p>
	<p>对于以上默认安装目录，您不应该修改其中的内容，也不应该在其中存放用户相关的文件。安装目录主要包括以下内容：</p>
	<table summary="Commands" border="1" frame="border" rules="all" cellspacing="0" cellpadding="3">
		<tr><th>目录</th><th>用途</th></tr>
		<tr><td><kbd>autoload</kbd></td><td>自动载入脚本（autoload scripts）</td></tr>
		<tr><td><kbd>colors</kbd></td><td>配色方案</td></tr>
		<tr><td><kbd>compiler</kbd></td><td>编译命令:compiler使用的脚本文件</td></tr>
		<tr><td><kbd>doc</kbd></td><td>文档</td></tr>
		<tr><td><kbd>ftplugin</kbd></td><td>针对特定类型文件的插件（需要配合:filetype plugin命令使用）</td></tr>
		<tr><td><kbd>indent</kbd></td><td>自动缩进定义文件</td></tr>
		<tr><td><kbd>keymap</kbd></td><td>命名格式为 {language}[-{layout}][_{encoding}].vim 的Keymap文件</td></tr>
		<tr><td><kbd>lang</kbd></td><td>界面显示语言文件（英文、中文等）</td></tr>
		<tr><td><kbd>macros</kbd></td><td>宏示例（hanoi、maze、urm等），小工具（justify、matchit、swapmous等）</td></tr>
		<tr><td><kbd>plugin</kbd></td><td>插件</td></tr>
		<tr><td><kbd>syntax</kbd></td><td>语法高亮度文件</td></tr>
		<tr><td><kbd>tools</kbd></td><td>工具（unicode、vimspell等）</td></tr>
		<tr><td><kbd>tutor</kbd></td><td>入门教程</td></tr>
	</table>

	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">HOME 用户目录</p>
	<p>使用以下命令，可以查看$HOME所代表的用户目录：</p>
	<p style="text-indent:2em"><code class="inset">:echo $HOME</code></p>
	<p>对于Linux操作系统，用户目录为：</p>
	<p style="text-indent:2em"><kbd>/home/username</kbd></p>
	<p>对于Windows操作系统，用户目录为：</p>
	<p style="text-indent:2em"><kbd>C:\Users\username</kbd></p>
	<p>由于用户目录在vim版本升级时也不会被覆盖，建议在其中存放用户设置信息。</p>
	<p>如果本机上有多个用户，那么每个用户都可以将自己的vim设置和插件，存放在自己的目录里，以实现不同用户使用各自不同的独立设置。</p>
	<p>在首次使用Vim之前，请先创建<a href="http://yyq123.github.io/learn-vim/learn-vi-59-vimrc.html" title="vimrc">vimrc</a>用户配置文件：</p>
	<ul>
		<li>Linux: <kbd>/home/username/.vimrc</kbd></li>
		<li>Windows: <kbd>c:\users\username\_vimrc</kbd></li>
	</ul>
	<p>用户应该将个性化设置存放在用户配置文件（personal vimrc），而不应修改系统配置文件（global vimrc）。</p>

	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">VIMRUNTIME 运行时目录</p>
	<p>使用以下命令，可以查看$VIMRUNTIME所代表的运行时目录：</p>
	<p style="text-indent:2em"><code class="inset">:echo $VIMRUNTIME</code></p>
	<p>对于Linux操作系统，运行时目录为：</p>
	<p style="text-indent:2em"><kbd>/usr/share/vim/vim81</kbd></p>
	<p>对于Windows操作系统，运行时目录为：</p>
	<p style="text-indent:2em"><kbd>C:\Program Files\Vim\vim81</kbd></p>
	<p>在Vim启动时，会遍历运行时目录，以载入并运行其中的脚本文件。</p>
	<p>使用以下命令，可以查看运行时目录的详细列表：</p>
	<p style="text-indent:2em"><code class="inset">:set rtp?</code></p>
	<p>使用以下命令，可以修改或增加运行时目录：</p>
	<p style="text-indent:2em"><code class="inset">:set runtimepath+=c:/blahblah/vimfiles</code></p>
	<p>Vim通常会搜索以下三个运行时目录及其子目录：</p>
	<ul>
		<li>$HOME/vimfiles（用户目录下的vimfiles）</li>
		<li>$VIM/vimfiles （安装目录下的vimfiles）</li>
		<li>$VIMRUNTIME （安装目录下的vimxx，比如vim72）</li>
	</ul>
	<p><img src="https://yyq123.github.io/learn-vim/images/set runtimepath.png" alt="Directiry Structure" width="500" height="167" /></p>
	<p>请注意：vimfiles目录中的设置，优先于runtime目录中的设置。例如，vimfiles/plugin/myplug.vim 将优先于 $VIMRUNTIME/plugin/myplug.vim。</p>
	<p>使用<code class="inset">:help rtp</code>命令，可以查看更多帮助信息。</p>

	<table summary="Commands" border="2" frame="hsides" rules="all" cellspacing="0" cellpadding="3">
		<caption>命令小结</caption>
		<tr><th>命令</th><th>Linux</th><th>Windows</th></tr>
		<tr><td><code class="inset">:echo $VIM</code></td><td>/usr/share/vim/</td><td>C:\Program Files\vim</td></tr>
		<tr><td><code class="inset">:echo $HOME</code></td><td>/home/username</td><td>C:\Users\username</td></tr>
		<tr><td><code class="inset">:echo $VIMRUNTIME</code></td><td>/usr/share/vim/vim81</td><td>C:\Program Files\Vim\vim81</td></tr>
	</table>
	<p style="border-top:1px solid lightgray"><span style="float:right">Ver: 2.0&nbsp;|&nbsp;<a href="mailto:yyq123@gmail.com">YYQ</a></span><span>&lt;<a title="在Linux下安装Vim" href="http://yyq123.github.io/learn-vim/learn-vi-201-Install-Vim-Linux.html">上一篇</a>&nbsp;|<a title="笔记列表" href="http://yyq123.github.com/learn-vim/learn-vi-00-List.html">&nbsp;目录&nbsp;</a>|&nbsp;<a title="在Windows下安装Vim" href="http://yyq123.github.io/learn-vim/learn-vi-203-Install-Vim-Win.html">下一篇</a>&gt;</span></p>
</body>
</html>

