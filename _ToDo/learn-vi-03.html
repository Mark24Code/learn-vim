<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh" xml:lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="learn-vi.css" />
<title>VIM学习笔记 复制和粘贴命令</title>
</head>
<body>
	<p style="font-weight:bold">复制粘贴</p>
	<p>在vi编辑器有一个寄存器的概念（concept of register)，正是这个概念使我们可以进行多次的剪切和粘贴操作。在一般的编辑器中我们被限制只有一个剪切板可用，而在vi中最多时可以有26个剪切板供使用，这样就会大大的提高工作的效率。</p>
	<p>在vi中，我们可以使用<code class="inset">d</code>或<code class="inset">x</code>来删除文本，但是经过这样操作所删除掉的文本并没有被vi所丢弃，而是被保存起来。我们可以使用<code class="inset">p</code>命令来粘贴刚刚所删掉的内容。下面来看看他是如何工作的。首先在vi中随意的输入几行，然后移动到其中的一行，用dd命令来删掉一行。如何叫他再回来？我们可以将光标移到任意的地方，然后用p命令，就会看到刚才被删除掉的内容又回来了。</p>
	<p>使用x命令删除的东西也可以粘贴回来。所不同的是，用dd删除一行再用p命令时是在当前光标的下一行粘贴，而删除一个单词再用p命令来粘贴时是在当前光标处粘贴。有了这样的命令，我们就可以来处理输入错误的单词了。例如我们不小心将the输入成了teh，这时可以将光标移到e的位置，用x命令删掉，再用p命令粘贴回来，这时就会发现输入正是我们想要的了。</p>
	<p><code class="inset">p</code>命令可以在一个文件中使用几次，每一次都可以将刚删除的内容重新粘贴在所希望的地方。当然这个命令也可以使用数字做前缀，明确的指出所要执行的次数。</p>
	<p>当我们插入文本行时，可以使用p命令或是P命令。所不同的是，<code class="inset">p</code>命令是在当前行的下一行进行插入，插入后光标移动到新行的开头处。而<code class="inset">P</code>命令是在当前的上一行进行插入，插入后光标移到新行的下一行的开头处。我们还可以使用gp或gP命令。不同的是，<code class="inset">gp</code>命令是将光标移动到新行的下一行的开头处。而<code class="inset">gP</code>是在当前的上一行进行插入，插入后光标移动新行的下一行的开头处。</p>
	<p>在vi中<code class="inset">y</code>命令也可以进行复制操作。<code class="inset">yw</code>命令可以复制一个单词。<code class="inset">yy</code>命令可以复制一行，然后我们可以用p命令来粘贴。我们也可以使用<code class="inset">Y</code>命令来复制一行，或是用数字做前缀来明确的指明复制几行，然后用p命令粘贴到我们所希望的地方。<code class="inset">y$</code>命令可以复制从当前光标到本行结尾的所有字符。</p>
	<p style="font-weight:bold">使用标记</p>
	<p>我们可以对文本进行标记，以方便在文档的不同位置间跳转。将光标移到某一行，用命令<code class="inset">ma</code>来进行标记。其中，<code class="inset">m</code>是标记命令，a是所做标记的名称。</p>
	<p>你可以使用小写字母a-z或大写字母A-Z中的任意一个做为标记名称。小写字母的标记，仅用于当前缓冲区；而大写字母的标记，则可以跨越不同的缓冲区。例如，你正在编辑File1，但仍然可以使用<code class="inset">'A</code>命令，移动到File2中创建的标记A。</p>
	<p>在做了标记以后，可以使用<code class="inset">'a</code>命令，移动到指定标记行的首个非空字符。这里<code class="inset">'</code>是单引号。也可以使用<code class="inset">`a</code>命令，移到所做标记时的光标位置。这里<code class="inset">`</code>是反引号（也就是数字键1左边的那一个）。</p>
	<p>利用<code class="inset">:marks</code>命令，可以列出所有标记。这其中也包括一些系统内置的特别标记（Special marks）：</p>
test
	<table summary="Special Marks" border="0">
		<tr><td>.&nbsp;&nbsp;&nbsp;</td><td>最近编辑的位置</td></tr>
		<tr><td>0-9&nbsp;&nbsp;</td><td>最近使用的文件</td></tr>
		<tr><td>&and;&nbsp;&nbsp;&nbsp;</td><td>最近插入的位置</td></tr>
		<tr><td>'&nbsp;&nbsp;&nbsp;</td><td>上一次跳转前的位置</td></tr>
		<tr><td>"&nbsp;&nbsp;&nbsp;</td><td>上一次退出文件时的位置</td></tr>
		<tr><td>[&nbsp;&nbsp;&nbsp;</td><td>上一次修改的开始处</td></tr>
		<tr><td>]&nbsp;&nbsp;&nbsp;</td><td>上一次修改的结尾处</td></tr>
	</table>
	<p>如果我们将做了标记的那一行删除，那么所做的标记也就不存了。我们不仅可以利用标记来快速移动，而且还可以使用标记来删除文本，例如在某一行用<code class="inset">ma</code>做了标记，然后就可以用<code class="inset">d'a</code>来删掉这一行。我们也可用<code class="inset">y'a</code>命令就可以来复制这一行了。</p>
	<p>可以使用<code class="inset">:delmarks a b c</code>命令，删除某个或多个标记；而<code class="inset">:delmarks!</code> )命令，则会删除所有标记。</p>
	<p>利用<code class="inset">:help mark-motions</code>命令，可以查看关于标记的更多帮助信息。</p>
	<table summary="Commands" border="2" frame="hsides" rules="all" cellspacing="0" cellpadding="3">
		<caption>命令小结</caption>
		<tr><td><code class="inset">p</code></td><td>在当前光标后粘贴</td></tr>
		<tr><td><code class="inset">P</code></td><td>在当前光标前粘贴</td></tr>
		<tr><td><code class="inset">m</code></td><td>做标记</td></tr>
		<tr><td><code class="inset">'</code></td><td>移动到标记的行首</td></tr>
		<tr><td><code class="inset">`</code></td><td>移动到标记的光标位置</td></tr>
		<tr><td><code class="inset">:marks</code></td><td>列出所有标记</td></tr>
		<tr><td><code class="inset">yy</code></td><td rowspan="2">复制一行</td></tr>
		<tr><td><code class="inset">Y</code></td></tr>
	</table>
	just a test
</body>
</html>

