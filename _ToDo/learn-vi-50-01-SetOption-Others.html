<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh" xml:lang="zh">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="learn-vi.css" />
	<title>VIM学习笔记 设置选项(set-option)</title>
</head>
<body>
	<h1>VIM学习笔记 设置选项(set-option)</h1>
" These commands open folds
set foldopen=block,insert,jump,mark,percent,quickfix,search,tag,undo

	<p>使用以下命令，可以设置打开文件时显示折叠的层级：</p>
	<p style="text-indent:2em"><code class="inset">:set foldlevelstart=n</code></p>
	<p>其中，<i>n</i>可以设置为以下值：</p>
	<ul>
		<li><strong>-1（默认值）</strong>，设置为负数时，此选项将被忽略；</li>
		<li><strong>0</strong>，所有折叠都是关闭状态；</li>
		<li><strong>99</strong>，所有折叠都是打开状态；如果设置为其他正数时，则打开相应级别的折叠。</li>
	</ul>

" Set the search scan to wrap around the file
set wrapscan

" Set the forward slash to be the slash of note. Backslashes suck
" This is really only applicable to Windows but I like to have a vimrc
" that works no matter what OS I'm currently on
set shellslash

" Allow backspacing over indent, eol, and the start of an insert
set backspace=2


当我们删除或是修改了一些行的文本,如果这些行数超出了report所指定的行数,Vim编辑器就会告诉这一些情况.所以如果我们要Vim报告所有的变化,我们可以用下面的命令:
:set report=0
相反,如果我们不希望Vim来告诉我们这些变化,我们可以将这个值设成一个相当大的值就可了.
我们也可以用下面的命令来设置预览窗口的大小:
:set previewheight={height}


但是如何来处理其他键的顺序呢?我们可以通过下面的两个选项来控制区:
:set timeout
:set ttimeout
下面的是这些设置的作用:
timeout        ttimeout    结果
notimeout    nottimeout    没有超时
timeout        N/A        所有的代码键(<F1>...)以及:map宏超时.
notimeout    ttimeout    只有代码键超时

:set ttimeout=500
这两个选项是告诉Vim在Esc按下后等待1/2秒来决定我们是否还会输入功能键或是等待1秒来决定是否还有其他的键盘映射输入.

	<p><i>timeoutlen</i>选项，即等待后续按键输入的时间，单位为毫秒（millisecond），默认值为1000毫秒，即1秒。如果希望设置键盘等待时间，可以使用以下命令：</p>
	<p style="text-indent:2em"><code class="inset">set timeoutlen=500</code></p>
	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">自定义信息</p>
	<p>Vim使用屏幕底部来显示消息，如果消息长度超出一行是，将会得到类似于&ldquo;按回车继续&rdquo;的提示。通过设置 <i>cmdheight</i> 选项来增加消息的行数，可以显示更多的信息以避免不必要的提示。例如使用以下命令，设置命令行高度为3行：</p>
	<p style="text-indent:2em"><code class="inset">:set cmdheight=3</code></p>
	<p>当Vim捕获一个错误时，将会显示错误信息。如果希望同时发出声音警告，那么可以执行以下命令：</p>
	<p style="text-indent:2em"><code class="inset">:set errorbells</code></p>
	<p>使用以下命令启用visualbell选项，当输入错误时屏幕就会闪动然后回到正常状态：</p>
	<p style="text-indent:2em"><code class="inset">:set visualbell</code></p>


	<p><a href="https://yyq123.github.io/learn-vim/images/.png" title=""><img src="https://yyq123.github.io/learn-vim/images/.png" alt="" width="500" height="" /></a></p>
	<p>如果希望查看某个选项的当前值，那么可以使用 :set option? 命令，其返回值将显示在屏幕底部。例如：</p>
	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">显示状态</p>
	<p>使用以下命令设置showmode选项，将可以在屏幕底部显示当前所处的状态：</p>
	<p style="text-indent:2em"><code class="inset">:set showmode</code></p>
	<p>如果顺序执行这些命令，那么选项变化如下图所示：</p>
	<p><a href="https://yyq123.github.io/learn-vim/images/setoption_bl.png" title="setoption_boolean"><img src="https://yyq123.github.io/learn-vim/images/setoption_bl.png" alt="setoption_bl" /></a></p>

	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">命令行</p>

	<p>使用以下命令启用showcmd选项，将会在输入命令时，在屏幕底部显示出部分命令：</p>
	<p style="text-indent:2em"><code class="inset">:set showcmd</code></p>
	<p>例如希望输入fx命令来查找字符&ldquo;x&rdquo;，当我们输入f时就会在底部显示f，这对于我们输入较为复杂的纵使时就会显示尤为有用.</p>
	<p><a href="https://yyq123.github.io/learn-vim/images/setoption_num.png" title="setoption_num"><img src="https://yyq123.github.io/learn-vim/images/setoption_num.png" alt="setoption_num" /></a></p>

	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">打印设置</p>
	<p>使用<code class="inset">:hardcopy</code>命令<a href="http://yyq123.github.io/learn-vim/learn-vi-07-Print.html" title="print">打印</a>文件时，将根据<i>printheader</i>选项来定义页眉格式。其默认值为"%&lt;%f%h%m%=Page %N"，将在页眉中显示以下信息：</p>
	<p><a href="https://yyq123.github.io/learn-vim/images/set_printheader_default.png" title="set_printheader_default"><img src="https://yyq123.github.io/learn-vim/images/set_printheader_default.png" alt="set_printheader_default" width="525" height="103" /></a></p>
	<ul>
		<li><i>File name</i>，文件名；</li>
		<li><i>Help buffer flag</i>，如果当前缓冲区打开的是帮助文件，将显示&ldquo;[help]&rdquo;；</li>
		<li><i>Modified flag</i>，如果当前文件已被更改（modified），将显示&ldquo;[+]&rdquo;；如果当前文件不可编辑（nomodifiable），将显示&ldquo;[-]&rdquo;</li>
		<li><i>Page number</i>，页码。</li>
	</ul>
	<p>使用以下命令，可以设置在页眉中打印当前日期和时间：</p>
	<p style="text-indent:2em"><code class="inset">set printheader=%&lt;%f%h%m%40{strftime(\"%I:%M:%S\ \%p,\ %a\ %b\ %d,\ %Y\")}%=Page\ %N</code></p>
	<p>使用以下命令，可以设置在页眉中打印文件最后修改时间：</p>
	<p style="text-indent:2em"><code class="inset">set printheader=%&lt;%f%h%m%40{strftime(\"%c\",getftime(expand(\"%%\")))}%=Page\ %N</code></p>
	<p>使用以下命令，可以设置页眉为空（请注意，命令末尾包括一个空格）：</p>
	<p style="text-indent:2em"><code class="inset">:set printheader=\&nbsp;</code></p>
	<table summary="Commands" border="1" frame="border" rules="all" cellspacing="0" cellpadding="3">
		<tr><th>命令形式</th><th>描述</th><th>示例</th></tr>
		<tr><td><code class="inset"></code></td><td></td><td><code class="inset"></code></td></tr>
	</table>
	<p>：</p>
	<p><a href="https://yyq123.github.io/learn-vim/images/" title=""><img src="https://yyq123.github.io/learn-vim/images/" alt="" /></a></p>
	<p style="text-indent:2em"><code class="inset"></code></p>
	<p>使用<code class="inset">:help set-option</code>命令，可以查看设置选项的更多帮助信息。</p>


</body>
</html>

