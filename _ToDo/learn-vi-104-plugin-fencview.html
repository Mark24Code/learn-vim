<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh" xml:lang="zh">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="learn-vi.css" />
	<title>VIM学习笔记 多编码侦测器(fencview.vim)</title>
</head>
<body>
	<p>Vim内置的<a href="https://gist.github.com/" title="Multi-Encoding">多编码（Multi-Encodings）处理</a>能力，可以很好地判断并显示不同编码格式的文件，而<a href="https://www.vim.org/scripts/script.php?script_id=1708" title="fencview.vim">fencview.vim</a>插件，则提供了更强大地功能。</p>
	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">安装配置</p>
	<p>你可以直接下载<a href="https://www.vim.org/scripts/script.php?script_id=1708" title="fencview.vim">fencview.vim</a>文件，然后将其放入<kbd>vimfiles\plugin</kbd>目录之中。</p>
	<p>推荐的方法是，使用<a href="http://yyq123.github.io/learn-vim/learn-vi-102-plugin-plug.html" title="插件管理器(vim-plug)">vim-plug</a>或<a href="http://yyq123.github.io/learn-vim/learn-vi-101-plugin-vundle.html" title="插件管理器(Vundle)">Vundle</a>等插件管理器，来安装GitHub上的<a href="https://github.com/mbbill/fencview">fencview.vim</a>插件。</p>
	<p>例如，</p>
	<p><img src="https://yyq123.github.io/learn-vim/images/git_Version.png" alt="git --version" width="500" height="135" /></p>
	<p>在操作系统命令行中，使用以下命令配置GitHub用户：</p>
	<ul>
		<li><code class="inset">git config --global user.name "username"</code></li>
		<li><code class="inset">git config --global user.email "email"</code></li>
	</ul>

	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">手动侦测</p>
	<p>对于Windows操作系统，请下载<a href="https://curl.haxx.se/">cURL</a>，并将<em>curl.exe</em>复制到以下目录：
	<ul>
		<li><kbd>C:\Program Files\Git\bin</kbd></li>
		<li><kbd>C:\Users\usernam\AppData\Local\Programs\Git\bin</kbd>(如有)</li>
	</ul>
	<p>对于Linux操作系统，在大多数发行版本中都已经预装了curl。</p>
	<p>在操作系统命令行中，使用<code class="inset">curl --version</code>验证curl是否可用：</p>
	<p><img src="https://yyq123.github.io/learn-vim/images/curl_Version.png" alt="git --version" width="500" height="145" /></p>
	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">安装webapi-vim和Gist.vim</p>
	<p>推荐使用插件管理器<a href="http://yyq123.github.io/learn-vim/learn-vi-102-plugin-plug.html" title="vim-plug">vim-plug</a>或<a href="http://yyq123.github.io/learn-vim/learn-vi-101-plugin-vundle.html" title="Vundle">Vundle</a>，来安装<a href="https://github.com/mattn/webapi-vim" title="webapi-vim">webapi-vim</a>和<a href="https://github.com/mattn/gist-vim" title="">Gist.vim</a>。</p>
	<p>请在<a href="http://bit.ly/vim-vimrc">vimrc</a>配置文件中增加以下命令，来设置GitHub用户名：</p>
	<p style="text-indent:2em"><code class="inset">let github_user = 'username'</code></p>
	<p>当首次调用插件时，将询问你的GitHub密码， 输入的密码将会被保存到<kbd>~/.gist-vim</kbd>：</p>
	<p><img src="https://yyq123.github.io/learn-vim/images/plugin_Gist_auth.png" alt="Git" width="500" height="39" /></p>
	<p>如果在安装配置过程中遇到任何疑问，请咨询<code class="inset">:help gist-vim-setup</code>命令。</p>

	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">发布代码片段</p>
	<p>使用以下命令，可以将当前缓冲区的全部内容发布至Gist：</p>
	<p style="text-indent:2em"><code class="inset">:Gist</code></p>
	<p>进入可视化模式选择文本之后，执行Gist命令则会将选中的内容发布至Gist：</p>
	<p style="text-indent:2em"><code class="inset">:'&lt;,'&gt;Gist</code></p>
	<p>当代码片段发布成功之后，将在屏幕底部显示生成的Gist网址，同时网址也会被复制到剪贴板之中。</p>

	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">列示代码片段</p>
	<p>使用以下命令，可以列出当前用户所有公开的Gist：</p>
	<p style="text-indent:2em"><code class="inset">:Gist -l</code></p>
	<p><img src="https://yyq123.github.io/learn-vim/images/plugin_Gist_l.png" alt="Git" width="500" height="147" /></p>
	<p>在显示列表中的任一行内，点击<kbd>Enter</kbd>回车键，则会将该Gist读入到新建缓冲区内；你可以对代码片段进行修改，然后使用Gist命令再次将其发布。也就是说，你既不用打开Gist网页，也不用本地保存代码片段，仅仅通过Vim界面，就可以方便地完成Gist的发布和更新。</p>
	<p><img src="https://yyq123.github.io/learn-vim/images/plugin_Gist_get.png" alt="GettingGit" width="500" height="394" /></p>

	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">载入代码片段</p>
	<p>使用以下命令，可以将指定ID的Gist载入到新建缓冲区：</p>
	<p style="text-indent:2em"><code class="inset">:Gist id</code></p>

	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">删除代码片段</p>
	<p>在Gist载入到新建缓冲区之后，可以使用以下命令将该代码片段从Gist网站中删除：</p>
	<p style="text-indent:2em"><code class="inset">:Gist -d</code></p>

	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">克隆代码片段</p>
	<p>除了查看自己创建的代码片段，我们还可以浏览其他用户发布的Gist。使用以下命令，可以列示指定用户公开的代码片段：</p>
	<p style="text-indent:2em"><code class="inset">:Gist -l username</code></p>
	<p><img src="https://yyq123.github.io/learn-vim/images/plugin_Gist_l_mattn_hl.png" alt="GettingGit" /></p>
	<p>将Gist载入到新建缓冲区之后，使用以下命令，则可以克隆该代码片段至自己的用户名之下：</p>
	<p style="text-indent:2em"><code class="inset">:Gist -f</code></p>

	<p style="font-weight:bold; border-bottom:1px solid lightgray; border-left:6px solid lightgray; padding:0 0 3px 5px">在浏览器中查看代码片段</p>
	<p>将Gist载入到新建缓冲区之后，使用以下命令，将会更新代码片段，并在默认浏览器中显示Gist网页：</p>
	<p style="text-indent:2em"><code class="inset">:Gist -b</code></p>
	<p><img src="https://yyq123.github.io/learn-vim/images/plugin_Gist_b.png" alt="Browse Gist" width="500" height="278"/></p>

	<table summary="Commands" border="2" frame="hsides" rules="all" cellspacing="0" cellpadding="3">
		<caption>命令小结</caption>
		<tr><td><code class="inset">:Gist</code></td><td>发布Gist</td></tr>
		<tr><td><code class="inset">:Gist -p</code></td><td>发布私有Gist</td></tr>
		<tr><td><code class="inset">:Gist -P</code></td><td>发布公开Gist</td></tr>
		<tr><td><code class="inset">:Gist -e</code></td><td>更新Gist文件名</td></tr>
		<tr><td><code class="inset">:Gist -s</code></td><td>更新Gist描述</td></tr>
		<tr><td><code class="inset">:Gist -d</code></td><td>删除Gist</td></tr>
		<tr><td><code class="inset">:Gist -f</code></td><td>克隆Gist</td></tr>
		<tr><td><code class="inset">:Gist +1</code></td><td>星标Gist</td></tr>
		<tr><td><code class="inset">:Gist -1</code></td><td>取消星标Gist</td></tr>
		<tr><td><code class="inset">:Gist -l</code></td><td>列示Gist</td></tr>
		<tr><td><code class="inset">:Gist -b&nbsp;</code></td><td>在浏览器中查看Gist</td></tr>
	</table>

	<p style="border-top:1px solid lightgray"><span style="float:right">Ver: 2.0&nbsp;|&nbsp;<a href="mailto:yyq123@gmail.com">YYQ</a></span><span>&lt;<a href="http://yyq123.github.io/learn-vim/learn-vi-101-plugin-vundle.html" title="插件管理器(Vundle)">上一篇</a>&nbsp;|<a title="笔记列表" href="http://yyq123.github.com/learn-vim/learn-vi-00-List.html">&nbsp;目录&nbsp;</a>|&nbsp;<a href="http://yyq123.github.io/learn-vim/learn-vi-102-plugin-plug.html" title="插件管理器(vim-plug)">下一篇</a>&gt;</span></p>
</body>
</html>

